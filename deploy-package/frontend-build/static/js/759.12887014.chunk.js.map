{"version":3,"file":"static/js/759.12887014.chunk.js","mappings":"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","sources":["components/charts/PaymentCalendarWidget.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport {\n  Box,\n  Grid,\n  Typography,\n  Paper,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  Avatar,\n  Chip,\n  useMediaQuery,\n  useTheme\n} from '@mui/material';\nimport {\n  Schedule,\n  Warning,\n  CheckCircle\n} from '@mui/icons-material';\nimport ChartWrapper from './ChartWrapper';\nimport { formatCurrency } from '../../services/api';\n\nconst PaymentCalendarWidget = ({ \n  payments = [], \n  selectedMonth = new Date().getMonth(),\n  selectedYear = new Date().getFullYear(),\n  loading = false,\n  error = null \n}) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [dialogOpen, setDialogOpen] = useState(false);\n\n  // Ay isimleri\n  const months = [\n    'Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran',\n    'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık'\n  ];\n\n  // Mini takvim günlerini hesapla\n  const getMiniCalendarDays = useMemo(() => {\n    const daysInMonth = new Date(selectedYear, selectedMonth + 1, 0).getDate();\n    const firstDay = new Date(selectedYear, selectedMonth, 1).getDay();\n    const adjustedFirstDay = firstDay === 0 ? 6 : firstDay - 1; // Pazartesi = 0\n    \n    const days = [];\n    \n    // Önceki ayın son günleri\n    for (let i = adjustedFirstDay - 1; i >= 0; i--) {\n      const prevMonth = selectedMonth === 0 ? 11 : selectedMonth - 1;\n      const prevYear = selectedMonth === 0 ? selectedYear - 1 : selectedYear;\n      const prevMonthDays = new Date(prevYear, prevMonth + 1, 0).getDate();\n      days.push({\n        day: prevMonthDays - i,\n        date: new Date(prevYear, prevMonth, prevMonthDays - i),\n        isCurrentMonth: false\n      });\n    }\n    \n    // Bu ayın günleri\n    for (let day = 1; day <= daysInMonth; day++) {\n      days.push({\n        day,\n        date: new Date(selectedYear, selectedMonth, day),\n        isCurrentMonth: true\n      });\n    }\n    \n    // Sonraki ayın ilk günleri (28 gün tamamlamak için - 4x7 grid)\n    const remainingDays = 28 - days.length;\n    for (let day = 1; day <= remainingDays; day++) {\n      const nextMonth = selectedMonth === 11 ? 0 : selectedMonth + 1;\n      const nextYear = selectedMonth === 11 ? selectedYear + 1 : selectedYear;\n      days.push({\n        day,\n        date: new Date(nextYear, nextMonth, day),\n        isCurrentMonth: false\n      });\n    }\n    \n    return days.slice(0, 28); // 4x7 grid için 28 gün\n  }, [selectedMonth, selectedYear]);\n\n  // Belirli bir tarihteki ödemeleri getir\n  const getPaymentsForDate = (date) => {\n    return payments.filter(payment => {\n      const paymentDate = new Date(selectedYear, selectedMonth, payment.dueDay);\n      return paymentDate.toDateString() === date.toDateString();\n    });\n  };\n\n  // Gün tıklama handler'ı\n  const handleDayClick = (date, dayPayments) => {\n    if (dayPayments.length > 0) {\n      setSelectedDate({ date, payments: dayPayments });\n      setDialogOpen(true);\n    }\n  };\n\n  // Dialog kapatma\n  const handleCloseDialog = () => {\n    setDialogOpen(false);\n    setSelectedDate(null);\n  };\n\n  // Ödeme durumu belirleme\n  const getPaymentStatus = (payment) => {\n    const paymentDate = new Date(selectedYear, selectedMonth, payment.dueDay);\n    const today = new Date();\n    const todayWithoutTime = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n    const paymentDateWithoutTime = new Date(paymentDate.getFullYear(), paymentDate.getMonth(), paymentDate.getDate());\n    \n    if (paymentDateWithoutTime < todayWithoutTime) {\n      return { status: 'overdue', color: 'error', icon: <Warning /> };\n    } else if (paymentDateWithoutTime.getTime() === todayWithoutTime.getTime()) {\n      return { status: 'today', color: 'warning', icon: <Schedule /> };\n    } else {\n      return { status: 'pending', color: 'info', icon: <Schedule /> };\n    }\n  };\n\n  const calendarContent = (\n    <Box>\n      <Typography variant=\"subtitle2\" gutterBottom sx={{ textAlign: 'center', mb: 2 }}>\n        {months[selectedMonth]} {selectedYear}\n      </Typography>\n      \n      {/* Haftanın günleri */}\n      <Grid container spacing={0.5} sx={{ mb: 1 }}>\n        {['P', 'S', 'Ç', 'P', 'C', 'C', 'P'].map((day, index) => (\n          <Grid item xs key={index}>\n            <Typography \n              variant=\"caption\" \n              align=\"center\" \n              sx={{ \n                display: 'block',\n                fontWeight: 'bold',\n                color: 'text.secondary',\n                fontSize: isMobile ? '0.6rem' : '0.75rem'\n              }}\n            >\n              {day}\n            </Typography>\n          </Grid>\n        ))}\n      </Grid>\n      \n      {/* Takvim günleri */}\n      <Grid container spacing={0.5}>\n        {getMiniCalendarDays.map((dayInfo, index) => {\n          const dayPayments = getPaymentsForDate(dayInfo.date);\n          const totalAmount = dayPayments.reduce((sum, payment) => sum + payment.amount, 0);\n          const hasOverdue = dayPayments.some(payment => getPaymentStatus(payment).status === 'overdue');\n          const isToday = dayInfo.date.toDateString() === new Date().toDateString();\n          \n          return (\n            <Grid item xs key={index}>\n              <Paper\n                sx={{\n                  minHeight: isMobile ? 32 : 40,\n                  p: 0.5,\n                  cursor: dayPayments.length > 0 ? 'pointer' : 'default',\n                  bgcolor: hasOverdue ? 'error.light' : \n                           dayPayments.length > 0 ? 'primary.light' : \n                           isToday ? 'warning.light' : 'transparent',\n                  border: isToday ? '2px solid' : '1px solid',\n                  borderColor: isToday ? 'warning.main' : 'grey.300',\n                  opacity: dayInfo.isCurrentMonth ? 1 : 0.3,\n                  '&:hover': {\n                    bgcolor: dayPayments.length > 0 ? \n                             (hasOverdue ? 'error.main' : 'primary.main') : \n                             'grey.100',\n                    color: dayPayments.length > 0 ? 'white' : 'inherit'\n                  }\n                }}\n                onClick={() => handleDayClick(dayInfo.date, dayPayments)}\n              >\n                <Typography \n                  variant=\"caption\" \n                  align=\"center\" \n                  sx={{ \n                    display: 'block',\n                    fontSize: isMobile ? '0.6rem' : '0.75rem',\n                    fontWeight: isToday ? 'bold' : 'normal'\n                  }}\n                >\n                  {dayInfo.day}\n                </Typography>\n                \n                {totalAmount > 0 && (\n                  <Typography \n                    variant=\"caption\" \n                    align=\"center\"\n                    sx={{ \n                      display: 'block',\n                      fontSize: isMobile ? '0.5rem' : '0.6rem',\n                      color: hasOverdue ? 'error.dark' : 'primary.dark',\n                      fontWeight: 'bold'\n                    }}\n                  >\n                    ₺{totalAmount > 1000 ? `${(totalAmount/1000).toFixed(1)}K` : totalAmount}\n                  </Typography>\n                )}\n                \n                {dayPayments.length > 1 && (\n                  <Typography \n                    variant=\"caption\" \n                    align=\"center\"\n                    sx={{ \n                      display: 'block',\n                      fontSize: '0.5rem',\n                      color: 'text.secondary'\n                    }}\n                  >\n                    +{dayPayments.length - 1}\n                  </Typography>\n                )}\n              </Paper>\n            </Grid>\n          );\n        })}\n      </Grid>\n    </Box>\n  );\n\n  return (\n    <>\n      <ChartWrapper\n        title=\"Bu Ay Ödemeler\"\n        loading={loading}\n        error={error}\n        height={isMobile ? 250 : 300}\n      >\n        {calendarContent}\n      </ChartWrapper>\n\n      {/* Ödeme Detayları Dialog */}\n      <Dialog \n        open={dialogOpen} \n        onClose={handleCloseDialog}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>\n          {selectedDate && (\n            <Box>\n              <Typography variant=\"h6\">\n                {selectedDate.date.toLocaleDateString('tr-TR', { \n                  day: 'numeric', \n                  month: 'long', \n                  year: 'numeric' \n                })}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {selectedDate.payments.length} ödeme\n              </Typography>\n            </Box>\n          )}\n        </DialogTitle>\n        \n        <DialogContent>\n          {selectedDate && (\n            <List>\n              {selectedDate.payments.map((payment, index) => {\n                const statusInfo = getPaymentStatus(payment);\n                return (\n                  <ListItem key={index} divider>\n                    <ListItemIcon>\n                      <Avatar sx={{ bgcolor: statusInfo.color + '.main', width: 32, height: 32 }}>\n                        {statusInfo.icon}\n                      </Avatar>\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={payment.name}\n                      secondary={payment.category}\n                    />\n                    <Box sx={{ textAlign: 'right' }}>\n                      <Typography variant=\"body2\" fontWeight=\"bold\">\n                        {formatCurrency(payment.amount)}\n                      </Typography>\n                      <Chip\n                        label={\n                          statusInfo.status === 'overdue' ? 'Gecikmiş' :\n                          statusInfo.status === 'today' ? 'Bugün' : 'Bekliyor'\n                        }\n                        color={statusInfo.color}\n                        size=\"small\"\n                      />\n                    </Box>\n                  </ListItem>\n                );\n              })}\n            </List>\n          )}\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nexport default PaymentCalendarWidget;"],"names":["_ref","payments","selectedMonth","Date","getMonth","selectedYear","getFullYear","loading","error","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","selectedDate","setSelectedDate","useState","dialogOpen","setDialogOpen","getMiniCalendarDays","useMemo","daysInMonth","getDate","firstDay","getDay","days","i","prevMonth","prevYear","prevMonthDays","push","day","date","isCurrentMonth","remainingDays","length","nextMonth","nextYear","slice","getPaymentStatus","payment","paymentDate","dueDay","today","todayWithoutTime","paymentDateWithoutTime","status","color","icon","_jsx","Warning","getTime","Schedule","calendarContent","_jsxs","Box","children","Typography","variant","gutterBottom","sx","textAlign","mb","Grid","container","spacing","map","index","item","xs","align","display","fontWeight","fontSize","dayInfo","dayPayments","filter","toDateString","totalAmount","reduce","sum","amount","hasOverdue","some","isToday","Paper","minHeight","p","cursor","bgcolor","border","borderColor","opacity","onClick","handleDayClick","concat","toFixed","_Fragment","ChartWrapper","title","height","Dialog","open","onClose","handleCloseDialog","maxWidth","fullWidth","DialogTitle","toLocaleDateString","month","year","DialogContent","List","statusInfo","ListItem","divider","ListItemIcon","Avatar","width","ListItemText","primary","name","secondary","category","formatCurrency","Chip","label","size"],"sourceRoot":""}