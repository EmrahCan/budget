"use strict";(self.webpackChunkbudget_app_frontend=self.webpackChunkbudget_app_frontend||[]).push([[967],{1130:(e,t,n)=>{n.d(t,{CS:()=>a,OK:()=>r});const r={primary:["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C"],income:"#4CAF50",expense:"#F44336",net:"#2196F3",warning:"#FF9800",success:"#4CAF50",error:"#F44336",info:"#2196F3"},a={Yemek:"\ud83c\udf7d\ufe0f","Ula\u015f\u0131m":"\ud83d\ude97","E\u011flence":"\ud83c\udfac","Al\u0131\u015fveri\u015f":"\ud83d\udecd\ufe0f","Sa\u011fl\u0131k":"\ud83c\udfe5","E\u011fitim":"\ud83d\udcda",Konut:"\ud83c\udfe0",Faturalar:"\u26a1","\u0130leti\u015fim":"\ud83d\udcf1","Di\u011fer":"\ud83d\udcca"}},3967:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(9379),a=n(5043),l=n(344),s=n(6446),i=n(5865),o=n(1906),c=n(3845),d=n(5721),u=n(5537),g=n(2050),x=n(1045),h=n(8734),m=n(611),A=n(7392),j=n(1081),p=n(6600),b=n(5316),y=n(5795),v=n(2143),f=n(9347),C=n(6240),k=n(141),F=(n(8606),n(3560)),w=n(2069),S=(n(4389),n(2796),n(4642),n(5652)),B=n(8469),z=n(1130),W=n(579);const D=e=>{let{budgetData:t={},actualData:n={},loading:D=!1,error:K=null,onBudgetUpdate:M=null}=e;const E=(0,C.A)(),P=(0,l.A)(E.breakpoints.down("sm")),[I,T]=(0,a.useState)(!1),[O,_]=(0,a.useState)(null),[H,R]=(0,a.useState)({category:"",amount:""}),U=(0,a.useMemo)(()=>{const e=Object.keys(t);return 0===e.length?[]:e.map(e=>{const r=t[e]||0,a=n[e]||0,l=r>0?Math.round(a/r*100):0;return{category:e,target:r,actual:a,percentage:l,remaining:r-a,status:l<=80?"success":l<=100?"warning":"error"}}).sort((e,t)=>t.percentage-e.percentage)},[t,n]),G=(0,a.useMemo)(()=>{if(0===U.length)return null;const e=U.reduce((e,t)=>e+t.target,0),t=U.reduce((e,t)=>e+t.actual,0),n=U.reduce((e,t)=>e+t.percentage,0)/U.length;return{totalTarget:e,totalActual:t,avgPercentage:Math.round(n),totalRemaining:e-t,onTrackCount:U.filter(e=>"success"===e.status).length,warningCount:U.filter(e=>"warning"===e.status).length,overBudgetCount:U.filter(e=>"error"===e.status).length}},[U]),Y=e=>e<=80?"success":e<=100?"warning":"error",q=()=>{T(!0)},J=()=>{T(!1),_(null),R({category:"",amount:""})},L=(0,W.jsx)(s.A,{children:0===U.length?(0,W.jsxs)(s.A,{sx:{textAlign:"center",py:4},children:[(0,W.jsx)(i.A,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Hen\xfcz b\xfct\xe7e hedefi belirlenmemi\u015f"}),(0,W.jsx)(o.A,{variant:"contained",startIcon:(0,W.jsx)(k.A,{}),onClick:q,size:"small",children:"B\xfct\xe7e Belirle"})]}):(0,W.jsxs)(s.A,{children:[G&&(0,W.jsxs)(s.A,{sx:{mb:3,p:2,bgcolor:"background.default",borderRadius:1},children:[(0,W.jsx)(i.A,{variant:"subtitle2",gutterBottom:!0,children:"Genel Performans"}),(0,W.jsxs)(s.A,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:[(0,W.jsx)(c.A,{label:"".concat(G.onTrackCount," hedefte"),color:"success",size:"small"}),(0,W.jsx)(c.A,{label:"".concat(G.warningCount," dikkat"),color:"warning",size:"small"}),(0,W.jsx)(c.A,{label:"".concat(G.overBudgetCount," a\u015f\u0131m"),color:"error",size:"small"})]}),(0,W.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,W.jsxs)(i.A,{variant:"body2",color:"textSecondary",children:["Toplam: ",(0,B.vv)(G.totalActual)," / ",(0,B.vv)(G.totalTarget)]}),(0,W.jsxs)(i.A,{variant:"body2",color:Y(G.avgPercentage)+".main",fontWeight:"bold",children:["%",G.avgPercentage]})]})]}),(0,W.jsx)(d.A,{dense:!0,children:U.map((e,t)=>{const n=z.CS[e.category]||z.CS["Di\u011fer"];return(0,W.jsxs)(u.Ay,{sx:{px:0,py:1},children:[(0,W.jsx)(g.A,{sx:{minWidth:40},children:(0,W.jsx)(x.A,{sx:{bgcolor:Y(e.percentage)+".main",width:32,height:32,fontSize:"0.8rem"},children:n})}),(0,W.jsx)(h.A,{primary:(0,W.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,W.jsx)(i.A,{variant:"body2",fontWeight:"medium",children:e.category}),(0,W.jsxs)(i.A,{variant:"body2",color:"textSecondary",children:[(0,B.vv)(e.actual)," / ",(0,B.vv)(e.target)]})]}),secondary:(0,W.jsxs)(s.A,{children:[(0,W.jsx)(m.A,{variant:"determinate",value:Math.min(e.percentage,100),color:Y(e.percentage),sx:{height:6,borderRadius:3,mb:.5}}),(0,W.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,W.jsxs)(i.A,{variant:"caption",color:Y(e.percentage)+".main",fontWeight:"bold",children:["%",e.percentage,e.percentage>100&&" (Hedef a\u015f\u0131ld\u0131)"]}),(0,W.jsxs)(i.A,{variant:"caption",color:"textSecondary",children:[e.remaining>=0?"Kalan: ":"A\u015f\u0131m: ",(0,B.vv)(Math.abs(e.remaining))]})]})]})})]},t)})})]})});return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(S.A,{title:"B\xfct\xe7e Performans\u0131",loading:D,error:K,height:P?400:500,actions:(0,W.jsx)(A.A,{size:"small",onClick:q,children:(0,W.jsx)(w.A,{})}),children:L}),(0,W.jsxs)(j.A,{open:I,onClose:J,maxWidth:"sm",fullWidth:!0,children:[(0,W.jsx)(p.A,{children:"B\xfct\xe7e Ayarlar\u0131"}),(0,W.jsxs)(b.A,{children:[(0,W.jsx)(s.A,{sx:{mb:3},children:(0,W.jsx)(i.A,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Kategori bazl\u0131 ayl\u0131k b\xfct\xe7e hedeflerinizi belirleyin"})}),Object.keys(t).length>0&&(0,W.jsxs)(s.A,{sx:{mb:3},children:[(0,W.jsx)(i.A,{variant:"subtitle2",gutterBottom:!0,children:"Mevcut B\xfct\xe7eler"}),(0,W.jsx)(d.A,{dense:!0,children:Object.entries(t).map(e=>{let[n,r]=e;return(0,W.jsx)(u.Ay,{secondaryAction:(0,W.jsx)(A.A,{size:"small",onClick:()=>(e=>{var n;_(e),R({category:e,amount:(null===(n=t[e])||void 0===n?void 0:n.toString())||""})})(n),children:(0,W.jsx)(F.A,{})}),children:(0,W.jsx)(h.A,{primary:n,secondary:(0,B.vv)(r)})},n)})})]}),(0,W.jsxs)(s.A,{sx:{display:"flex",gap:2,mb:2},children:[(0,W.jsx)(y.A,{select:!0,label:"Kategori",value:H.category,onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{category:e.target.value})),sx:{flex:1},size:"small",children:["Yemek","Ula\u015f\u0131m","E\u011flence","Al\u0131\u015fveri\u015f","Sa\u011fl\u0131k","E\u011fitim","Konut","Faturalar","\u0130leti\u015fim","Di\u011fer"].map(e=>(0,W.jsx)(v.A,{value:e,children:e},e))}),(0,W.jsx)(y.A,{label:"Ayl\u0131k Hedef",type:"number",value:H.amount,onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{amount:e.target.value})),sx:{flex:1},size:"small",InputProps:{startAdornment:(0,W.jsx)(i.A,{sx:{mr:1},children:"\u20ba"})}})]}),(0,W.jsx)(o.A,{variant:"contained",onClick:()=>{if(H.category&&H.amount&&M){const e=parseFloat(H.amount);e>0&&(M(H.category,e),J())}},disabled:!H.category||!H.amount,fullWidth:!0,children:O?"G\xfcncelle":"Ekle"})]}),(0,W.jsx)(f.A,{children:(0,W.jsx)(o.A,{onClick:J,children:"Kapat"})})]})]})}}}]);
//# sourceMappingURL=967.a4ec90bf.chunk.js.map