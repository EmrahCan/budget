"use strict";(self.webpackChunkbudget_app_frontend=self.webpackChunkbudget_app_frontend||[]).push([[759],{3759:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(5043),a=n(344),o=n(6446),i=n(5865),s=n(8903),l=n(3336),c=n(1081),d=n(6600),h=n(5316),g=n(5721),u=n(5537),m=n(2050),x=n(1045),y=n(8734),p=n(3845),A=n(6240),j=n(1209),D=n(4642),b=n(5652),w=n(8469),f=n(579);const k=e=>{let{payments:t=[],selectedMonth:n=(new Date).getMonth(),selectedYear:k=(new Date).getFullYear(),loading:v=!1,error:S=null}=e;const C=(0,A.A)(),M=(0,a.A)(C.breakpoints.down("sm")),[z,W]=(0,r.useState)(null),[F,B]=(0,r.useState)(!1),T=(0,r.useMemo)(()=>{const e=new Date(k,n+1,0).getDate(),t=new Date(k,n,1).getDay(),r=[];for(let o=(0===t?6:t-1)-1;o>=0;o--){const e=0===n?11:n-1,t=0===n?k-1:k,a=new Date(t,e+1,0).getDate();r.push({day:a-o,date:new Date(t,e,a-o),isCurrentMonth:!1})}for(let o=1;o<=e;o++)r.push({day:o,date:new Date(k,n,o),isCurrentMonth:!0});const a=28-r.length;for(let o=1;o<=a;o++){const e=11===n?0:n+1,t=11===n?k+1:k;r.push({day:o,date:new Date(t,e,o),isCurrentMonth:!1})}return r.slice(0,28)},[n,k]),Y=e=>{const t=new Date(k,n,e.dueDay),r=new Date,a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),o=new Date(t.getFullYear(),t.getMonth(),t.getDate());return o<a?{status:"overdue",color:"error",icon:(0,f.jsx)(D.A,{})}:o.getTime()===a.getTime()?{status:"today",color:"warning",icon:(0,f.jsx)(j.A,{})}:{status:"pending",color:"info",icon:(0,f.jsx)(j.A,{})}},_=(0,f.jsxs)(o.A,{children:[(0,f.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,sx:{textAlign:"center",mb:2},children:[["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"][n]," ",k]}),(0,f.jsx)(s.Ay,{container:!0,spacing:.5,sx:{mb:1},children:["P","S","\xc7","P","C","C","P"].map((e,t)=>(0,f.jsx)(s.Ay,{item:!0,xs:!0,children:(0,f.jsx)(i.A,{variant:"caption",align:"center",sx:{display:"block",fontWeight:"bold",color:"text.secondary",fontSize:M?"0.6rem":"0.75rem"},children:e})},t))}),(0,f.jsx)(s.Ay,{container:!0,spacing:.5,children:T.map((e,r)=>{const a=(o=e.date,t.filter(e=>new Date(k,n,e.dueDay).toDateString()===o.toDateString()));var o;const c=a.reduce((e,t)=>e+t.amount,0),d=a.some(e=>"overdue"===Y(e).status),h=e.date.toDateString()===(new Date).toDateString();return(0,f.jsx)(s.Ay,{item:!0,xs:!0,children:(0,f.jsxs)(l.A,{sx:{minHeight:M?32:40,p:.5,cursor:a.length>0?"pointer":"default",bgcolor:d?"error.light":a.length>0?"primary.light":h?"warning.light":"transparent",border:h?"2px solid":"1px solid",borderColor:h?"warning.main":"grey.300",opacity:e.isCurrentMonth?1:.3,"&:hover":{bgcolor:a.length>0?d?"error.main":"primary.main":"grey.100",color:a.length>0?"white":"inherit"}},onClick:()=>((e,t)=>{t.length>0&&(W({date:e,payments:t}),B(!0))})(e.date,a),children:[(0,f.jsx)(i.A,{variant:"caption",align:"center",sx:{display:"block",fontSize:M?"0.6rem":"0.75rem",fontWeight:h?"bold":"normal"},children:e.day}),c>0&&(0,f.jsxs)(i.A,{variant:"caption",align:"center",sx:{display:"block",fontSize:M?"0.5rem":"0.6rem",color:d?"error.dark":"primary.dark",fontWeight:"bold"},children:["\u20ba",c>1e3?"".concat((c/1e3).toFixed(1),"K"):c]}),a.length>1&&(0,f.jsxs)(i.A,{variant:"caption",align:"center",sx:{display:"block",fontSize:"0.5rem",color:"text.secondary"},children:["+",a.length-1]})]})},r)})})]});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(b.A,{title:"Bu Ay \xd6demeler",loading:v,error:S,height:M?250:300,children:_}),(0,f.jsxs)(c.A,{open:F,onClose:()=>{B(!1),W(null)},maxWidth:"sm",fullWidth:!0,children:[(0,f.jsx)(d.A,{children:z&&(0,f.jsxs)(o.A,{children:[(0,f.jsx)(i.A,{variant:"h6",children:z.date.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}),(0,f.jsxs)(i.A,{variant:"body2",color:"textSecondary",children:[z.payments.length," \xf6deme"]})]})}),(0,f.jsx)(h.A,{children:z&&(0,f.jsx)(g.A,{children:z.payments.map((e,t)=>{const n=Y(e);return(0,f.jsxs)(u.Ay,{divider:!0,children:[(0,f.jsx)(m.A,{children:(0,f.jsx)(x.A,{sx:{bgcolor:n.color+".main",width:32,height:32},children:n.icon})}),(0,f.jsx)(y.A,{primary:e.name,secondary:e.category}),(0,f.jsxs)(o.A,{sx:{textAlign:"right"},children:[(0,f.jsx)(i.A,{variant:"body2",fontWeight:"bold",children:(0,w.vv)(e.amount)}),(0,f.jsx)(p.A,{label:"overdue"===n.status?"Gecikmi\u015f":"today"===n.status?"Bug\xfcn":"Bekliyor",color:n.color,size:"small"})]})]},t)})})})]})]})}}}]);
//# sourceMappingURL=759.12887014.chunk.js.map